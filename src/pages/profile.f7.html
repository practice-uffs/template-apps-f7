<template>
  <div data-name="profile">
    <!-- Profile -->
    <div class="margin-horizontal">
      <div class="card circle" style="margin-right: 25%; margin-left: 25%;">
        <img src="static/images/default-profile-image.png">
      </div>
      <div class="text-align-center">
        <h2 class="no-margin">{{name}}</h2>
        <small>{{username}}</small>
      </div>
    </div>
    {{#if isEnabled}}{{#if isEnabled.scores}}
      <!-- Scores -->
      <div class="card margin-top text-align-center">
        <div class="card-content card-content-padding row">
          <!-- Coins/Diamonds -->
          <div class="col-50">
            <i class="f7-icons">suit_diamond</i>
            <p class="no-margin">128</p>
          </div>
          <!-- Reputation -->
          <div class="col-50">
            <i class="f7-icons">star</i>
            <p class="no-margin">256</p>
          </div>
        </div>
      </div>
    {{/if}}{{/if}}
    {{#if isEnabled}}{{#if isEnabled.achievements}}
      <!-- Achievements -->
      <div class="block-title">Conquistas</div>
      <div class="card">
        <div class="card-content">
          <div class="list media-list">
            <ul>
              <li>
                <div class="item-content">
                  <div class="item-media"><i class="f7-icons">book</i></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">Bibliotecário</div>
                      <div class="item-after">15/20</div>
                    </div>
                    <div class="item-subtitle">Nível 3</div>
                    <div class="progressbar" data-progress="75"><span></span></div>
                    <div class="item-text">Pegue 20 livros da biblioteca</div>
                  </div>
                </div>
              </li>
              <li>
                <div class="item-content">
                  <div class="item-media"><i class="f7-icons">square_pencil</i></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">Estudioso</div>
                      <div class="item-after">25/50</div>
                    </div>
                    <div class="item-subtitle">Nível 4</div>
                    <div class="progressbar" data-progress="50"><span></span></div>
                    <div class="item-text">Participe de monitorias 50 vezes</div>
                </div>
              </li>
              <li>
                <div class="item-content">
                  <div class="item-media"><i class="f7-icons">rocket</i></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">Cientista</div>
                      <div class="item-after">6/10</div>
                    </div>
                    <div class="item-subtitle">Nível 3</div>
                    <div class="progressbar" data-progress="60"><span></span></div>
                    <div class="item-text">Publique 10 trabalhos no SEPE</div>
                  </div>
                </div>
              </li>
              <li>
                <div class="item-content">
                  <div class="item-media"><i class="f7-icons">chart_bar</i></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">Contribuidor</div>
                      <div class="item-after">1/5</div>
                    </div>
                    <div class="item-subtitle">Nível 1</div>
                    <div class="progressbar" data-progress="20"><span></span></div>
                    <div class="item-text">Responda 5 pesquisas de TCC</div>
                  </div>
                </div>
              </li>
              <li>
                <div class="item-content">
                  <div class="item-media"><i class="f7-icons">guitars</i></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">Musicista</div>
                      <div class="item-after">6/10</div>
                    </div>
                    <div class="item-subtitle">Nível 2</div>
                    <div class="progressbar" data-progress="60"><span></span></div>
                    <div class="item-text">Participe de 10 intervalos musicais</div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    {{/if}}{{/if}}
  </div>
</template>
<script>
  import IsEnabled from '../js/isenabled.js'

  export default {
    data: function() {
      return {
        name: null,
        username: null,
        email: null,
        isEnabled: IsEnabled,
      }
    },

    methods: {
      loadUser: function () {
        let self = this
        let app = self.$app

        const user = app.storage.getUserCredentials().user
        self.$setState({
          name: user.name,
          username: user.username,
          email: user.email,
        })
      }
    },

    on: {
      tabInit: function () {
        this.loadUser()
      }
    },
  }
</script>